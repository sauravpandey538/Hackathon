(()=>{var e={};e.id=149,e.ids=[149],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7488:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>m,tree:()=>c});var t=s(7096),r=s(6132),n=s(7284),i=s.n(n),l=s(2564),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(a,o);let c=["",{children:["admin",{children:["auth",{children:["signup",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,2500)),"/Users/sauravmacbookpro/Desktop/hackathon/src/app/admin/auth/signup/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,7827)),"/Users/sauravmacbookpro/Desktop/hackathon/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/sauravmacbookpro/Desktop/hackathon/src/app/admin/auth/signup/page.tsx"],p="/admin/auth/signup/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/auth/signup/page",pathname:"/admin/auth/signup",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8604:(e,a,s)=>{Promise.resolve().then(s.bind(s,3158))},3158:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var t=s(784),r=s(9885),n=s(7114),i=s(7565),l=s(7505),o=s(5304),c=s(5014),d=s(1440),p=s.n(d),u=s(5035),m=s(7332),h=s(3424);let x=[{id:1,label:"Secret Key",name:"secret_key",type:"password",placeholder:"Secret Key"},{id:2,label:"Email",name:"email",type:"email",placeholder:"Email"},{id:3,label:"Name",name:"name",type:"text",placeholder:"Name"},{id:4,label:"Password",name:"password",type:"password",placeholder:"Password"}],__WEBPACK_DEFAULT_EXPORT__=()=>{let[e,a]=(0,r.useState)({secret_key:"",email:"",name:"",password:"",role:"admin"}),[s,d]=(0,r.useState)({secret_key:"",email:"",name:"",password:""}),[g,_]=(0,r.useState)({secret_key:!1,password:!1}),y=(0,n.useRouter)(),f=(0,n.useSearchParams)(),{refreshAuth:b}=(0,m.useAuth)(),k=f?.get("redirect")||"/dashboard",handleChange=e=>{d({secret_key:"",email:"",name:"",password:""});let{name:s,value:t}=e.target;a(e=>({...e,[s]:t}))},handleSignup=async a=>{let s=c.i.safeParse(a);if(s.success){let a=await (0,u.a)("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});a.success?(await b(),y.push(k)):console.log(a.error)}else{let e={secret_key:"",email:"",name:"",password:""};s.error.errors.forEach(a=>{e[a.path[0]]=a.message}),d(e)}};return(0,t.jsxs)("div",{className:"container bg-background flex flex-col justify-center items-center w-full",children:[t.jsx(i._,{className:"text-2xl font-bold",children:"Admin SignUp"}),(0,t.jsxs)("div",{className:"flex flex-col gap-4 max-w-96 w-full",children:[x.map(a=>(0,t.jsxs)("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:[t.jsx(i._,{htmlFor:a.name,children:a.label}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(l.I,{id:a.name,name:a.name,type:"password"===a.type&&g[a.name]?"text":a.type,placeholder:a.placeholder,value:e[a.name],onChange:handleChange,className:"pr-10"}),"password"===a.type&&t.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground",onClick:()=>_(e=>({...e,[a.name]:!e[a.name]})),children:g[a.name]?t.jsx(h.P.eyeOff,{size:18}):t.jsx(h.P.eye,{size:18})})]}),s[a.name]&&t.jsx("p",{className:"text-red-500",children:s[a.name]})]},a.id)),t.jsx(o.z,{className:"w-full",onClick:()=>{handleSignup(e)},children:"Register"}),t.jsx("div",{className:"mt-4 text-center",children:(0,t.jsxs)(p(),{href:`/admin/auth/login?redirect=${encodeURIComponent(k)}`,children:["Already have an account? ",t.jsx("span",{className:"text-gray-300",children:"Login"})]})})]})]})}},2500:(e,a,s)=>{"use strict";s.r(a),s.d(a,{$$typeof:()=>i,__esModule:()=>n,default:()=>o});var t=s(5153);let r=(0,t.createProxy)(String.raw`/Users/sauravmacbookpro/Desktop/hackathon/src/app/admin/auth/signup/page.tsx`),{__esModule:n,$$typeof:i}=r,l=r.default,o=l}};var a=require("../../../../webpack-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),s=a.X(0,[387,796,706,353,31],()=>__webpack_exec__(7488));module.exports=s})();