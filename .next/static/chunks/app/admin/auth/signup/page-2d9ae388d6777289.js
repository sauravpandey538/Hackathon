(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[149],{5531:function(e,t,r){"use strict";r.d(t,{Z:function(){return createLucideIcon}});var n=r(2265);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),toCamelCase=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),toPascalCase=e=>{let t=toCamelCase(e);return t.charAt(0).toUpperCase()+t.slice(1)},mergeClasses=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,n.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:o="",children:i,iconNode:c,...l},u)=>(0,n.createElement)("svg",{ref:u,...a,width:t,height:t,stroke:e,strokeWidth:s?24*Number(r)/Number(t):r,className:mergeClasses("lucide",o),...l},[...c.map(([e,t])=>(0,n.createElement)(e,t)),...Array.isArray(i)?i:[i]])),createLucideIcon=(e,t)=>{let r=(0,n.forwardRef)(({className:r,...a},o)=>(0,n.createElement)(s,{ref:o,iconNode:t,className:mergeClasses(`lucide-${toKebabCase(toPascalCase(e))}`,`lucide-${e}`,r),...a}));return r.displayName=toPascalCase(e),r}},7216:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(5531);let a=(0,n.Z)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},9670:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(5531);let a=(0,n.Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},1798:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(5531);let a=(0,n.Z)("facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]])},3298:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(5531);let a=(0,n.Z)("github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]])},7461:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(5531);let a=(0,n.Z)("linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]])},3088:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(5531);let a=(0,n.Z)("moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]])},3239:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(5531);let a=(0,n.Z)("sun-medium",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 3v1",key:"1asbbs"}],["path",{d:"M12 20v1",key:"1wcdkc"}],["path",{d:"M3 12h1",key:"lp3yf2"}],["path",{d:"M20 12h1",key:"1vloll"}],["path",{d:"m18.364 5.636-.707.707",key:"1hakh0"}],["path",{d:"m6.343 17.657-.707.707",key:"18m9nf"}],["path",{d:"m5.636 5.636.707.707",key:"1xv1c5"}],["path",{d:"m17.657 17.657.707.707",key:"vl76zb"}]])},3039:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(5531);let a=(0,n.Z)("twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]])},1574:function(e,t,r){Promise.resolve().then(r.bind(r,186))},186:function(e,t,r){"use strict";r.r(t);var n=r(7437),a=r(2265),s=r(4033),o=r(6429),i=r(6582),c=r(3089),l=r(989),u=r(1396),d=r.n(u),f=r(6454),m=r(6855),h=r(2061);let p=[{id:1,label:"Secret Key",name:"secret_key",type:"password",placeholder:"Secret Key"},{id:2,label:"Email",name:"email",type:"email",placeholder:"Email"},{id:3,label:"Name",name:"name",type:"text",placeholder:"Name"},{id:4,label:"Password",name:"password",type:"password",placeholder:"Password"}];t.default=()=>{let[e,t]=(0,a.useState)({secret_key:"",email:"",name:"",password:"",role:"admin"}),[r,u]=(0,a.useState)({secret_key:"",email:"",name:"",password:""}),[y,g]=(0,a.useState)({secret_key:!1,password:!1}),v=(0,s.useRouter)(),b=(0,s.useSearchParams)(),{refreshAuth:w}=(0,m.useAuth)(),x=(null==b?void 0:b.get("redirect"))||"/dashboard",handleChange=e=>{u({secret_key:"",email:"",name:"",password:""});let{name:r,value:n}=e.target;t(e=>({...e,[r]:n}))},handleSignup=async t=>{let r=l.i.safeParse(t);if(r.success){let t=await (0,f.a)("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});t.success?(await w(),v.push(x)):console.log(t.error)}else{let e={secret_key:"",email:"",name:"",password:""};r.error.errors.forEach(t=>{e[t.path[0]]=t.message}),u(e)}};return(0,n.jsxs)("div",{className:"container bg-background flex flex-col justify-center items-center w-full",children:[(0,n.jsx)(o._,{className:"text-2xl font-bold",children:"Admin SignUp"}),(0,n.jsxs)("div",{className:"flex flex-col gap-4 max-w-96 w-full",children:[p.map(t=>(0,n.jsxs)("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:[(0,n.jsx)(o._,{htmlFor:t.name,children:t.label}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(i.I,{id:t.name,name:t.name,type:"password"===t.type&&y[t.name]?"text":t.type,placeholder:t.placeholder,value:e[t.name],onChange:handleChange,className:"pr-10"}),"password"===t.type&&(0,n.jsx)("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground",onClick:()=>g(e=>({...e,[t.name]:!e[t.name]})),children:y[t.name]?(0,n.jsx)(h.P.eyeOff,{size:18}):(0,n.jsx)(h.P.eye,{size:18})})]}),r[t.name]&&(0,n.jsx)("p",{className:"text-red-500",children:r[t.name]})]},t.id)),(0,n.jsx)(c.z,{className:"w-full",onClick:()=>{handleSignup(e)},children:"Register"}),(0,n.jsx)("div",{className:"mt-4 text-center",children:(0,n.jsxs)(d(),{href:"/admin/auth/login?redirect=".concat(encodeURIComponent(x)),children:["Already have an account? ",(0,n.jsx)("span",{className:"text-gray-300",children:"Login"})]})})]})]})}},2061:function(e,t,r){"use strict";r.d(t,{P:function(){return m}});var n=r(7437),a=r(3239),s=r(3088),o=r(3039),i=r(7461),c=r(1798),l=r(3298),u=r(9670),d=r(7216),f=r(7615);let m={sun:a.Z,moon:s.Z,twitter:o.Z,linkedin:i.Z,facebook:c.Z,gitHub:l.Z,eye:u.Z,eyeOff:d.Z,profile:f.Mdg,logo:e=>(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",...e,children:(0,n.jsx)("path",{fill:"currentColor",d:"M11.572 0c-.176 0-.31.001-.358.007a19.76 19.76 0 0 1-.364.033C7.443.346 4.25 2.185 2.228 5.012a11.875 11.875 0 0 0-2.119 5.243c-.096.659-.108.854-.108 1.747s.012 1.089.108 1.748c.652 4.506 3.86 8.292 8.209 9.695.779.25 1.6.422 2.534.525.363.04 1.935.04 2.299 0 1.611-.178 2.977-.577 4.323-1.264.207-.106.247-.134.219-.158-.02-.013-.9-1.193-1.955-2.62l-1.919-2.592-2.404-3.558a338.739 338.739 0 0 0-2.422-3.556c-.009-.002-.018 1.579-.023 3.51-.007 3.38-.01 3.515-.052 3.595a.426.426 0 0 1-.206.214c-.075.037-.14.044-.495.044H7.81l-.108-.068a.438.438 0 0 1-.157-.171l-.05-.106.006-4.703.007-4.705.072-.092a.645.645 0 0 1 .174-.143c.096-.047.134-.051.54-.051.478 0 .558.018.682.154.035.038 1.337 1.999 2.895 4.361a10760.433 10760.433 0 0 0 4.735 7.17l1.9 2.879.096-.063a12.317 12.317 0 0 0 2.466-2.163 11.944 11.944 0 0 0 2.824-6.134c.096-.66.108-.854.108-1.748 0-.893-.012-1.088-.108-1.747-.652-4.506-3.859-8.292-8.208-9.695a12.597 12.597 0 0 0-2.499-.523A33.119 33.119 0 0 0 11.573 0zm4.069 7.217c.347 0 .408.005.486.047a.473.473 0 0 1 .237.277c.018.06.023 1.365.018 4.304l-.006 4.218-.744-1.14-.746-1.14v-3.066c0-1.982.01-3.097.023-3.15a.478.478 0 0 1 .233-.296c.096-.05.13-.054.5-.054z"})})}},3089:function(e,t,r){"use strict";r.d(t,{d:function(){return c},z:function(){return l}});var n=r(7437),a=r(2265),s=r(7256),o=r(6061),i=r(345);let c=(0,o.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),l=a.forwardRef((e,t)=>{let{className:r,variant:a,size:o,asChild:l=!1,...u}=e,d=l?s.g7:"button";return(0,n.jsx)(d,{className:(0,i.cn)(c({variant:a,size:o,className:r})),ref:t,...u})});l.displayName="Button"},6582:function(e,t,r){"use strict";r.d(t,{I:function(){return o}});var n=r(7437),a=r(2265),s=r(345);let o=a.forwardRef((e,t)=>{let{className:r,type:a,...o}=e;return(0,n.jsx)("input",{type:a,className:(0,s.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...o})});o.displayName="Input"},6429:function(e,t,r){"use strict";r.d(t,{_:function(){return l}});var n=r(7437),a=r(2265),s=r(6743),o=r(6061),i=r(345);let c=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.f,{ref:t,className:(0,i.cn)(c(),r),...a})});l.displayName=s.f.displayName},6855:function(e,t,r){"use strict";r.r(t),r.d(t,{AuthProvider:function(){return AuthProvider},useAuth:function(){return useAuth}});var n=r(7437),a=r(2265);let s=(0,a.createContext)(void 0);function AuthProvider(e){let{children:t}=e,[r,o]=(0,a.useState)(!1),[i,c]=(0,a.useState)(null),[l,u]=(0,a.useState)(null),refreshAuth=async()=>{try{let e=await fetch("/api/user/me",{credentials:"include"});if(e.ok){let t=await e.json();o(!0),c(t.name),u(t.email)}else o(!1),c(null),u(null)}catch(e){console.error("Error refreshing auth state:",e),o(!1),c(null),u(null)}},logout=async()=>{try{await fetch("/api/auth/logout",{credentials:"include",method:"POST"}),o(!1),c(null),u(null),window.location.href="/"}catch(e){console.error("Error during logout:",e)}};return(0,a.useEffect)(()=>{refreshAuth()},[]),(0,n.jsx)(s.Provider,{value:{isAuthenticated:r,name:i,email:l,logout,refreshAuth},children:t})}function useAuth(){let e=(0,a.useContext)(s);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},6454:function(e,t,r){"use strict";r.d(t,{a:function(){return fetchApi}});let fetchApi=async(e,t)=>{try{console.log("url",e);let r=await fetch(e,t);if(!r.ok){let e=await r.json();throw Error(e.message||"API Error: ".concat(r.statusText))}let n=await r.json();return console.log("data",n),{success:!0,data:n}}catch(e){return{success:!1,error:e.message||"Something went wrong"}}}},345:function(e,t,r){"use strict";r.d(t,{cn:function(){return cn}});var n=r(7042),a=r(4769);function cn(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,n.W)(t))}},989:function(e,t,r){"use strict";r.d(t,{d:function(){return a},i:function(){return s}});var n=r(4578);let a=n.z.object({email:n.z.string().email({message:"Invalid email"}),password:n.z.string().min(8,{message:"Password must be at least 8 characters long"})}),s=n.z.object({email:n.z.string().email({message:"Invalid email"}),password:n.z.string().min(8,{message:"Password must be at least 8 characters long"}),name:n.z.string().min(3,{message:"Name must be at least 3 characters long"})})},3118:function(e,t,r){"use strict";r.d(t,{w_:function(){return GenIcon}});var n=r(2265),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s=n.createContext&&n.createContext(a),o=["attr","size","title"];function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){var n,a;n=t,a=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function GenIcon(e){return t=>n.createElement(IconBase,_extends({attr:_objectSpread({},e.attr)},t),function Tree2Element(e){return e&&e.map((e,t)=>n.createElement(e.tag,_objectSpread({key:t},e.attr),Tree2Element(e.child)))}(e.child))}function IconBase(e){var elem=t=>{var r,{attr:a,size:s,title:i}=e,c=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,o),l=s||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),n.createElement("svg",_extends({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,c,{className:r,style:_objectSpread(_objectSpread({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&n.createElement("title",null,i),e.children)};return void 0!==s?n.createElement(s.Consumer,null,e=>elem(e)):elem(a)}}},function(e){e.O(0,[694,621,396,853,971,472,744],function(){return e(e.s=1574)}),_N_E=e.O()}]);